
$buttonBoxShadow: inset 0 0 0 0.1rem #fff;
$buttonHoverTransition: background-color 100ms linear, stroke 100ms linear;



@mixin blockShadow($depth) {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgb(0,0,0);
  opacity: 0.1;
  transform: translate3d(0,0,$depth);
  z-index: -999;
  pointer-events: none;
}


.floatingButton {
  animation-name: floatingButtonAnimation;
  animation-duration: 4s;
  animation-delay: 1s; // to allow routing animation to complete
  animation-iteration-count: infinite;
  animation-timing-function: ease-in-out;
}

@keyframes floatingButtonAnimation {
  0% { transform: translate3d(0,0,0rem); }
  50% { transform: translate3d(0,0,-1.5rem); }
  100% { transform: translate3d(0,0,0rem); }
}







.button {
  cursor: pointer;
  pointer-events: all;

  &:before {
    @include blockShadow(-7rem);
  }

  .Block3d {
    @extend .floatingButton;
  }

  // background
  .Block3d__content {
    padding: 0.6rem 1rem 0.6rem 0.6rem;
    box-shadow: inset 0 0 0 0.1rem #fff;
    transition: background-color 100ms linear, opacity 450ms cubic-bezier(0.550, 0.055, 0.675, 0.190);
  }

  // arrow
  h3:after {
    content: '';
    position: absolute;
    top: 50%;
    right: -0.44rem;
    margin-top: -0.22rem;
    width: 1rem;

    border-top: 0.22rem solid transparent;
    border-bottom: 0.22rem solid transparent;
    border-left: 0.28rem solid rgb(180,0,0);
  }

  &:hover {
    .Block3d__content {
      background-color: rgb(180,0,0);
    }

    h3 {
      color: #fff;
      transition: color 100ms linear;
    }
    h3:after {
      border-left: 0.3rem solid #fff;
      transition: border-color 100ms linear;
    }
  }
}
